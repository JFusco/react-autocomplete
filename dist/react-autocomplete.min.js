!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.Autocomplete=t(require("React")):e.Autocomplete=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),d=n(2),p=o(d),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.value,data:n.props.data,selectedSuggestion:-1},n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.value,n=e.caseSensitive;if(""!==t){var o={value:t},r=n?t:t.toLowerCase();this.state.data.indexOf(r)>=0&&(o.data=[]),this.setState(o)}}},{key:"filteredSuggestions",value:function(e){var t=this.props,n=t.fuzzy,o=t.caseSensitive,r=o?e:e.toLowerCase();return this.props.data.filter(function(e){var t=o?e:e.toLowerCase();return n?t.indexOf(r)!==-1:0===t.indexOf(r)})}},{key:"selectSuggestion",value:function(e){var t=this.props,n=t.selectedSuggestion,o=t.clearValueOnSelect,r=t.onSelected,a={value:""};n>=0&&(a.selectedSuggestion=-1),o||(a.value=e,a.data=[]),this.setState(a,function(){"undefined"!=typeof r&&r(e)})}},{key:"moveSelectedUp",value:function(){var e=this,t=this.state,n=t.selectedSuggestion,o=t.data;this.setState({selectedSuggestion:n-1},function(){n<=0&&e.setState({selectedSuggestion:o.length-1})})}},{key:"moveSelectedDown",value:function(){var e=this.state,t=e.selectedSuggestion,n=e.data;this.setState({selectedSuggestion:(t+1)%n.length})}},{key:"onInputKey",value:function(e){if(""!==this.state.value)switch(e.keyCode){case t.KEYS.up:e.preventDefault(),this.moveSelectedUp();break;case t.KEYS.down:e.preventDefault(),this.moveSelectedDown();break;case t.KEYS.right:if(!this.willRenderTypeahead())return;e.preventDefault(),this.selectSuggestion(this.state.data[0]);break;case t.KEYS.enter:if(this.state.selectedSuggestion===-1)return;this.selectSuggestion(this.state.data[this.state.selectedSuggestion])}}},{key:"onChange",value:function(e){var t=this,n=e.target.value,o={value:n,data:this.filteredSuggestions(n)};""===n&&this.state.selectedSuggestion>=0&&(o.selectedSuggestion=-1),this.setState(o,function(){"undefined"!=typeof t.props.onChange&&t.props.onChange(n)})}},{key:"onItemOver",value:function(e){this.setState({selectedSuggestion:e})}},{key:"onItemClick",value:function(e){this.selectSuggestion(e)}},{key:"onInputBlur",value:function(){""!==this.state.value&&this.state.data.length>0&&this.setState({data:[],selectedSuggestion:-1})}},{key:"willRenderTypeahead",value:function(){return!this.props.fuzzy&&this.props.caseSensitive}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.placeholder,o=this.state,r=o.value,a=o.data,s=""!==r&&a.length>0,u="list-"+t,l=s&&this.willRenderTypeahead()?c["default"].createElement("input",{disabled:!0,"aria-disabled":"true",value:a[0]}):null;return c["default"].createElement("div",{role:"search",className:"react-autocomplete",id:t},c["default"].createElement("input",{role:"textbox",type:"text",className:this.willRenderTypeahead()?"typeahead":null,"aria-label":n,"aria-owns":u,"aria-expanded":s,"aria-haspopup":"true","aria-autocomplete":"list",placeholder:n,autoComplete:"off",value:r,onBlur:this.onInputBlur.bind(this),onKeyDown:this.onInputKey.bind(this),onChange:this.onChange.bind(this)}),l,c["default"].createElement(p["default"],i({onItemOver:this.onItemOver.bind(this),onItemClick:this.onItemClick.bind(this),renderSuggestions:s,id:u},this.state)))}}]),t}(l.Component);f.KEYS={enter:13,up:38,down:40,right:39},f.propTypes={data:c["default"].PropTypes.arrayOf(c["default"].PropTypes.oneOfType([c["default"].PropTypes.string,c["default"].PropTypes.object])),value:c["default"].PropTypes.string,fuzzy:c["default"].PropTypes.bool,placeholder:c["default"].PropTypes.string,clearValueOnSelect:c["default"].PropTypes.bool,caseSensitive:c["default"].PropTypes.bool,id:c["default"].PropTypes.string.isRequired,onChange:c["default"].PropTypes.func,onSelected:c["default"].PropTypes.func},f.defaultProps={data:[],value:"",fuzzy:!0,placeholder:"Search",clearValueOnSelect:!1,caseSensitive:!1},t["default"]=f},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(1),i=o(s),u=n(3),l=o(u),c=function(e){var t=e.value,n=e.onItemOver,o=e.onItemClick,s=e.renderSuggestions,u=e.selectedSuggestion,c=e.data,d=e.id,p=r(e,["value","onItemOver","onItemClick","renderSuggestions","selectedSuggestion","data","id"]),f=function(e){n(e)},h=function(e){o(e)},v=function(e,t){var n=t.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&");return{__html:e.replace(new RegExp(n,"gi"),"<mark>$&</mark>")}},g=s?c.map(function(e,n){return p.className=u===n?"active":"",p.onMouseOver=f.bind(void 0,n),p.onMouseDown=h.bind(void 0,e),i["default"].createElement(l["default"],a({key:n,dangerouslySetInnerHTML:v(e,t)},p))}):null;return i["default"].createElement("ul",{id:d,role:"listbox"},g)};t["default"]=c,c.propTypes={onItemOver:i["default"].PropTypes.func.isRequired,onItemClick:i["default"].PropTypes.func.isRequired,selectedSuggestion:i["default"].PropTypes.number.isRequired,id:i["default"].PropTypes.string.isRequired,renderSuggestions:i["default"].PropTypes.bool.isRequired}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(1),s=o(a),i=function(e){return s["default"].createElement("li",r({role:"option"},e))};t["default"]=i,i.propTypes={onMouseOver:s["default"].PropTypes.func.isRequired,onMouseDown:s["default"].PropTypes.func.isRequired,className:s["default"].PropTypes.string.isRequired}}])});